{"Diffs":"[{\"Position\":0,\"NumberToRemove\":35,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\",\\\"Folders\\\":[\"},{\"Position\":22,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\",\\\"Folders\\\":[\"},{\"Position\":50,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Controllers\\\",\\\"Folders\\\":[],\\\"Files\\\":[\"},{\"Position\":102,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Controllers\\\\\\\\PVCController.cs\\\",\\\"Contents\\\":\\\"using System;\\\\r\\\\nusing System.Collections.Generic;\\\\r\\\\nusing System.Data;\\\\r\\\\nusing System.Data.SqlClient;\\\\r\\\\nusing System.Linq;\\\\r\\\\nusing System.Threading.Tasks;\\\\r\\\\nusing Microsoft.AspNetCore.Mvc;\\\\r\\\\nusing Microsoft.Extensions.Configuration;\\\\r\\\\nusing Newtonsoft.Json;\\\\r\\\\nusing Pipe.Models;\\\\r\\\\n\\\\r\\\\nnamespace Pipe.Controllers\\\\r\\\\n\"},{\"Position\":487,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    [Route(\\\\\\\"api/pipe\\\\\\\")]\\\\r\\\\n    public class PVCController : Controller\\\\r\\\\n    \"},{\"Position\":572,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        IConfiguration configuration;\\\\r\\\\n        SqlConnection connection;\\\\r\\\\n\\\\r\\\\n        public PVCController(IConfiguration configuration)//, INotifier notifier)\\\\r\\\\n        \"},{\"Position\":752,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            this.configuration = configuration;\\\\r\\\\n            connection = new SqlConnection(configuration.GetConnectionString(\\\\\\\"Dev\\\\\\\"));\\\\r\\\\n            \\\\r\\\\n            //notifier.SendMail();\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        class Folder\\\\r\\\\n        \"},{\"Position\":1002,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            public string Path;\\\\r\\\\n            public Folder[] Folders;\\\\r\\\\n            public FileObj[] Files;\\\\r\\\\n        }\\\\r\\\\n        class FileObj\\\\r\\\\n        \"},{\"Position\":1167,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            public string Path;\\\\r\\\\n            public string Contents;\\\\r\\\\n\\\\r\\\\n            public FileObj(string path, string contents)\\\\r\\\\n            \"},{\"Position\":1322,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                Path = path;\\\\r\\\\n                Contents = contents;\\\\r\\\\n            }\\\\r\\\\n        }\\\\r\\\\n        class Diff\\\\r\\\\n        \"},{\"Position\":1459,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            public int Position;\\\\r\\\\n            public int NumberToRemove;\\\\r\\\\n            public string ContentToAdd;\\\\r\\\\n            public Diff(int pos, int numToRem, string toAdd)\\\\r\\\\n            \"},{\"Position\":1661,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                Position = pos;\\\\r\\\\n                NumberToRemove = numToRem;\\\\r\\\\n                ContentToAdd = toAdd;\\\\r\\\\n            }\\\\r\\\\n        }\\\\r\\\\n        \\\\r\\\\n        [HttpGet(\\\\\\\"\"},{\"Position\":1849,\"NumberToRemove\":0,\"ContentToAdd\":\"{repo}/branches\\\\\\\")]\\\\r\\\\n        public string GetBranches(string repo)\\\\r\\\\n        \"},{\"Position\":1930,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            if (repo == null)\\\\r\\\\n            \"},{\"Position\":1980,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                return \\\\\\\"\\\\\\\";//new string[] \"},{\"Position\":2028,\"NumberToRemove\":0,\"ContentToAdd\":\"{ };\\\\r\\\\n            }\\\\r\\\\n            connection.Open();\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_GetRepoID\\\\\\\", connection);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryName\\\\\\\", repo));\\\\r\\\\n            SqlDataAdapter adapter = new SqlDataAdapter(cmd);\\\\r\\\\n            DataTable data = new DataTable();\\\\r\\\\n            adapter.Fill(data);\\\\r\\\\n            cmd.CommandText = \\\\\\\"usp_GetBranchesOfRepo\\\\\\\";\\\\r\\\\n            cmd.Parameters.Clear();\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", (int)data.Rows[0][0]));\\\\r\\\\n            data.Clear();\\\\r\\\\n            adapter.Fill(data);\\\\r\\\\n            if (data.Rows.Count == 0)\\\\r\\\\n            \"},{\"Position\":2765,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                return \\\\\\\"\\\\\\\";\\\\r\\\\n            }\\\\r\\\\n            Dictionary<string, int> output = new Dictionary<string, int>(data.Rows.Count);\\\\r\\\\n            for (int i = 0; i < data.Rows.Count; i++)\\\\r\\\\n            \"},{\"Position\":2982,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                output.Add(data.Rows[i][\\\\\\\"BranchName\\\\\\\"].ToString(), (int)data.Rows[i][\\\\\\\"CommitID\\\\\\\"]);\\\\r\\\\n            }\\\\r\\\\n            return JsonConvert.SerializeObject(output);\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        //Returns history of a branch\\\\r\\\\n        // GET api/pipe/[repo]?branch=master&...\\\\r\\\\n        [HttpGet(\\\\\\\"\"},{\"Position\":3297,\"NumberToRemove\":0,\"ContentToAdd\":\"{repo}\\\\\\\")]\\\\r\\\\n        public string Get(string repo, string branch = \\\\\\\"master\\\\\\\")\\\\r\\\\n        \"},{\"Position\":3389,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            if (repo == null)\\\\r\\\\n            \"},{\"Position\":3439,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                return \\\\\\\"\\\\\\\";//new string[] \"},{\"Position\":3487,\"NumberToRemove\":0,\"ContentToAdd\":\"{ };\\\\r\\\\n            }\\\\r\\\\n            connection.Open();\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_GetRepoID\\\\\\\", connection);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryName\\\\\\\", repo));\\\\r\\\\n            SqlDataAdapter adapter = new SqlDataAdapter(cmd);\\\\r\\\\n            DataTable data = new DataTable();\\\\r\\\\n            adapter.Fill(data);\\\\r\\\\n            cmd.CommandText = \\\\\\\"usp_GetBranchCommitID\\\\\\\";\\\\r\\\\n            cmd.Parameters.Clear();\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", (int)data.Rows[0][0]));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"BranchName\\\\\\\", branch));\\\\r\\\\n            data.Clear();\\\\r\\\\n            adapter.Fill(data);\\\\r\\\\n            if (data.Rows.Count == 0)\\\\r\\\\n            \"},{\"Position\":4301,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                return \\\\\\\"\\\\\\\";\\\\r\\\\n            }\\\\r\\\\n            cmd.CommandText = \\\\\\\"usp_GetRepoHistoryFromRecentCommit\\\\\\\";\\\\r\\\\n            cmd.Parameters[1] = new SqlParameter(\\\\\\\"CommitID\\\\\\\", (int)data.Rows[0][1]);\\\\r\\\\n            data.Clear();\\\\r\\\\n            adapter.Fill(data);\\\\r\\\\n            if (data.Rows.Count == 0)\\\\r\\\\n            \"},{\"Position\":4634,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                return \\\\\\\"\\\\\\\";//new string[] \"},{\"Position\":4682,\"NumberToRemove\":0,\"ContentToAdd\":\"{ };\\\\r\\\\n            }\\\\r\\\\n            return JsonConvert.SerializeObject(commitHistoryFromDataBaseEntry(data));//new string[] \"},{\"Position\":4807,\"NumberToRemove\":0,\"ContentToAdd\":\"{ data.Rows[0][\\\\\\\"Message\\\\\\\"].ToString() };//new string[] \"},{\"Position\":4863,\"NumberToRemove\":0,\"ContentToAdd\":\"{ \\\\\\\"value1\\\\\\\", \\\\\\\"value2\\\\\\\", repo };\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        Dictionary<int, Commit> commitHistoryFromDataBaseEntry(DataTable table)\\\\r\\\\n        \"},{\"Position\":5008,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            Dictionary<int, Commit> commits = new Dictionary<int, Commit>();\\\\r\\\\n            for (int i = 0; i < table.Rows.Count; i++)\\\\r\\\\n            \"},{\"Position\":5163,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                commits.Add((int)table.Rows[i][\\\\\\\"CommitID\\\\\\\"], new Commit((string)table.Rows[i][\\\\\\\"TextDiffs\\\\\\\"], (string)table.Rows[i][\\\\\\\"Message\\\\\\\"], (string)table.Rows[i][\\\\\\\"Author\\\\\\\"], (string)table.Rows[i][\\\\\\\"Committer\\\\\\\"], (int)table.Rows[i][\\\\\\\"ParentID\\\\\\\"]));\\\\r\\\\n            }\\\\r\\\\n            return commits;\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        //[HttpPost]\\\\r\\\\n        //public void Post([FromBody]Commit[] commits, [FromBody]string branch)\\\\r\\\\n        //\"},{\"Position\":5609,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n\\\\r\\\\n        //}\\\\r\\\\n\\\\r\\\\n        [HttpPost(\\\\\\\"\"},{\"Position\":5657,\"NumberToRemove\":0,\"ContentToAdd\":\"{repo}/\"},{\"Position\":5664,\"NumberToRemove\":0,\"ContentToAdd\":\"{branch}\\\\\\\")]\\\\r\\\\n        public void CreateBranch(string repo, string branch, int commitID)\\\\r\\\\n        \"},{\"Position\":5766,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            int repoID = GetRepoID(repo);\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_AddBranch\\\\\\\", connection);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", repoID));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"BranchName\\\\\\\", branch));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"CommitID\\\\\\\", commitID));\\\\r\\\\n            cmd.ExecuteNonQuery();\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        [HttpPost(\\\\\\\"\"},{\"Position\":6265,\"NumberToRemove\":0,\"ContentToAdd\":\"{repo}\\\\\\\")]\\\\r\\\\n        public void CreateRepo(string repo)\\\\r\\\\n        \"},{\"Position\":6334,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            connection.Open();\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_AddRepoWOID\\\\\\\", connection);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"Name\\\\\\\", repo));\\\\r\\\\n            cmd.ExecuteNonQuery();\\\\r\\\\n            cmd.CommandText = \\\\\\\"usp_AddCommit\\\\\\\";\\\\r\\\\n            cmd.Parameters.Clear();\\\\r\\\\n            int repoID = GetRepoID(repo, false);\\\\r\\\\n            int commitID = new Random().Next(1, int.MaxValue);\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"CommitID\\\\\\\", commitID));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"Message\\\\\\\", \\\\\\\"Initial commit for repository \\\\\\\" + repo));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"ParentID\\\\\\\", 0));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"Author\\\\\\\", \\\\\\\"Auto-generated\\\\\\\"));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"Committer\\\\\\\", \\\\\\\"Auto-generated\\\\\\\"));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", repoID));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"TextDiffs\\\\\\\", JsonConvert.SerializeObject(new Diff[] \"},{\"Position\":7442,\"NumberToRemove\":0,\"ContentToAdd\":\"{ new Diff(0, 0, JsonConvert.SerializeObject(new Folder \"},{\"Position\":7498,\"NumberToRemove\":0,\"ContentToAdd\":\"{ Path = \\\\\\\"\\\\\\\", Folders = new Folder[0], Files = new FileObj[0] })) })));\\\\r\\\\n            cmd.ExecuteNonQuery();\\\\r\\\\n            cmd.Parameters.Clear();\\\\r\\\\n            cmd.CommandText = \\\\\\\"usp_AddBranch\\\\\\\";\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", repoID));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"BranchName\\\\\\\", \\\\\\\"master\\\\\\\"));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"CommitID\\\\\\\", commitID));\\\\r\\\\n            cmd.ExecuteNonQuery();\\\\r\\\\n\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        [HttpPut(\\\\\\\"\"},{\"Position\":8018,\"NumberToRemove\":0,\"ContentToAdd\":\"{repo}/\"},{\"Position\":8025,\"NumberToRemove\":0,\"ContentToAdd\":\"{branch}\\\\\\\")]\\\\r\\\\n        public void PushBranch(string repo, string branch, [FromBody]Dictionary<int, Commit> commitDictionary)\\\\r\\\\n        \"},{\"Position\":8163,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            int repoID = GetRepoID(repo);\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_AddCommit\\\\\\\", connection);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            DataTable table = new DataTable();\\\\r\\\\n            SqlDataAdapter adapter = new SqlDataAdapter(cmd);\\\\r\\\\n            Commit[] commits = commitDictionary.Values.ToArray();\\\\r\\\\n            for (int i = 0; i < commits.Length; i++)\\\\r\\\\n            \"},{\"Position\":8606,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                cmd.Parameters.Clear();\\\\r\\\\n                cmd.Parameters.Add(new SqlParameter(\\\\\\\"CommitID\\\\\\\", commitDictionary.Keys.ToArray()[i]));\\\\r\\\\n                cmd.CommandText = \\\\\\\"usp_GetCommitByID\\\\\\\";\\\\r\\\\n                table.Clear();\\\\r\\\\n                adapter.Fill(table);\\\\r\\\\n                if (table.Rows.Count <= 0)\\\\r\\\\n                \"},{\"Position\":8957,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                    cmd.CommandText = \\\\\\\"usp_AddCommit\\\\\\\";\\\\r\\\\n                    cmd.Parameters.Add(new SqlParameter(\\\\\\\"Message\\\\\\\", commits[i].Message));\\\\r\\\\n                    cmd.Parameters.Add(new SqlParameter(\\\\\\\"ParentID\\\\\\\", commits[i].Parent));\\\\r\\\\n                    cmd.Parameters.Add(new SqlParameter(\\\\\\\"Author\\\\\\\", commits[i].Author));\\\\r\\\\n                    cmd.Parameters.Add(new SqlParameter(\\\\\\\"Committer\\\\\\\", commits[i].Committer));\\\\r\\\\n                    cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", repoID));\\\\r\\\\n                    cmd.Parameters.Add(new SqlParameter(\\\\\\\"TextDiffs\\\\\\\", commits[i].Diffs));\\\\r\\\\n                    cmd.ExecuteNonQuery();\\\\r\\\\n                }\\\\r\\\\n            }\\\\r\\\\n\\\\r\\\\n            cmd.CommandText = \\\\\\\"usp_UpdateBranch\\\\\\\";\\\\r\\\\n            cmd.Parameters.Clear();\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", repoID));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"BranchName\\\\\\\", branch));\\\\r\\\\n            int[] keys = commitDictionary.Keys.ToArray();\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"CommitID\\\\\\\", keys[0]));\\\\r\\\\n            int rows = cmd.ExecuteNonQuery();\\\\r\\\\n            if (rows <= 0)\\\\r\\\\n            \"},{\"Position\":10147,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                cmd.CommandText = \\\\\\\"usp_AddBranch\\\\\\\";\\\\r\\\\n                cmd.ExecuteNonQuery();\\\\r\\\\n            }\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        // DELETE api/pipe/repo/branch\\\\r\\\\n        [HttpDelete(\\\\\\\"\"},{\"Position\":10348,\"NumberToRemove\":0,\"ContentToAdd\":\"{repo}/\"},{\"Position\":10355,\"NumberToRemove\":0,\"ContentToAdd\":\"{branch}\\\\\\\")]\\\\r\\\\n        public void DeleteBranch(string repo, string branch)\\\\r\\\\n        \"},{\"Position\":10443,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_DeleteBranch\\\\\\\", connection);\\\\r\\\\n            int repoID = GetRepoID(repo);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryID\\\\\\\", repoID));\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"BranchName\\\\\\\", branch));\\\\r\\\\n            cmd.ExecuteNonQuery();\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        private int GetRepoID(string repo, bool openConnection = true)\\\\r\\\\n        \"},{\"Position\":10930,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            if (openConnection)\\\\r\\\\n            \"},{\"Position\":10982,\"NumberToRemove\":0,\"ContentToAdd\":\"{ connection.Open(); }\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_GetRepoID\\\\\\\", connection);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            cmd.Parameters.Add(new SqlParameter(\\\\\\\"RepositoryName\\\\\\\", repo));\\\\r\\\\n            SqlDataAdapter adapter = new SqlDataAdapter(cmd);\\\\r\\\\n            DataTable data = new DataTable();\\\\r\\\\n            adapter.Fill(data);\\\\r\\\\n            cmd.Parameters.Clear();\\\\r\\\\n            int retVal = (int)data.Rows[0][0];\\\\r\\\\n            data.Clear();\\\\r\\\\n            return retVal;\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        //VERY DANGEROUS!!!! USE AT YOUR OWN RISK!!!\\\\r\\\\n        // DELETE api/pipe/repo\\\\r\\\\n        [HttpDelete(\\\\\\\"\"},{\"Position\":11655,\"NumberToRemove\":0,\"ContentToAdd\":\"{repo}\\\\\\\")]\\\\r\\\\n        public void DeleteRepo(string repo)\\\\r\\\\n        \"},{\"Position\":11724,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            int repoID = GetRepoID(repo);\\\\r\\\\n            SqlCommand cmd = new SqlCommand(\\\\\\\"usp_DeleteRepo\\\\\\\", connection);\\\\r\\\\n            cmd.CommandType = CommandType.StoredProcedure;\\\\r\\\\n            cmd.Parameters.AddWithValue(\\\\\\\"RepositoryID\\\\\\\", repoID);\\\\r\\\\n            cmd.ExecuteNonQuery();\\\\r\\\\n        }\\\\r\\\\n    }\\\\r\\\\n}\\\\r\\\\n\\\"}]},\"},{\"Position\":12056,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Models\\\",\\\"Folders\\\":[],\\\"Files\\\":[\"},{\"Position\":12103,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Models\\\\\\\\Commit.cs\\\",\\\"Contents\\\":\\\"using System;\\\\r\\\\nusing System.Collections.Generic;\\\\r\\\\nusing System.Linq;\\\\r\\\\nusing System.Threading.Tasks;\\\\r\\\\n\\\\r\\\\nnamespace Pipe.Models\\\\r\\\\n\"},{\"Position\":12289,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    public class Commit\\\\r\\\\n    \"},{\"Position\":12325,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        public string Diffs \"},{\"Position\":12358,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n\\\\r\\\\n        public int Parent \"},{\"Position\":12405,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n\\\\r\\\\n        public string Message \"},{\"Position\":12456,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n\\\\r\\\\n        public string Author \"},{\"Position\":12506,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n\\\\r\\\\n        public string Committer \"},{\"Position\":12559,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n\\\\r\\\\n        public Commit(string diffs, string message, string author, string committer, int parent)\\\\r\\\\n        \"},{\"Position\":12688,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            Diffs = diffs;\\\\r\\\\n            Message = message;\\\\r\\\\n            Author = author;\\\\r\\\\n            Committer = committer;\\\\r\\\\n            Parent = parent;\\\\r\\\\n        }\\\\r\\\\n    }\\\\r\\\\n}\\\\r\\\\n\\\"}]},\"},{\"Position\":12891,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Properties\\\",\\\"Folders\\\":[],\\\"Files\\\":[\"},{\"Position\":12942,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Properties\\\\\\\\launchSettings.json\\\",\\\"Contents\\\":\\\"\"},{\"Position\":13004,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n  \\\\\\\"iisSettings\\\\\\\": \"},{\"Position\":13028,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    \\\\\\\"windowsAuthentication\\\\\\\": false,\\\\r\\\\n    \\\\\\\"anonymousAuthentication\\\\\\\": true,\\\\r\\\\n    \\\\\\\"iisExpress\\\\\\\": \"},{\"Position\":13136,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n      \\\\\\\"applicationUrl\\\\\\\": \\\\\\\"http://localhost:56854/\\\\\\\",\\\\r\\\\n      \\\\\\\"sslPort\\\\\\\": 0\\\\r\\\\n    }\\\\r\\\\n  },\\\\r\\\\n  \\\\\\\"profiles\\\\\\\": \"},{\"Position\":13256,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    \\\\\\\"IIS Express\\\\\\\": \"},{\"Position\":13282,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n      \\\\\\\"commandName\\\\\\\": \\\\\\\"IISExpress\\\\\\\",\\\\r\\\\n      \\\\\\\"launchBrowser\\\\\\\": true,\\\\r\\\\n      \\\\\\\"launchUrl\\\\\\\": \\\\\\\"api/values\\\\\\\",\\\\r\\\\n      \\\\\\\"environmentVariables\\\\\\\": \"},{\"Position\":13435,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        \\\\\\\"ASPNETCORE_ENVIRONMENT\\\\\\\": \\\\\\\"Development\\\\\\\"\\\\r\\\\n      }\\\\r\\\\n    },\\\\r\\\\n    \\\\\\\"Pipe\\\\\\\": \"},{\"Position\":13530,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n      \\\\\\\"commandName\\\\\\\": \\\\\\\"Project\\\\\\\",\\\\r\\\\n      \\\\\\\"launchBrowser\\\\\\\": true,\\\\r\\\\n      \\\\\\\"launchUrl\\\\\\\": \\\\\\\"api/values\\\\\\\",\\\\r\\\\n      \\\\\\\"environmentVariables\\\\\\\": \"},{\"Position\":13680,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        \\\\\\\"ASPNETCORE_ENVIRONMENT\\\\\\\": \\\\\\\"Development\\\\\\\"\\\\r\\\\n      },\\\\r\\\\n      \\\\\\\"applicationUrl\\\\\\\": \\\\\\\"http://localhost:56855/\\\\\\\"\\\\r\\\\n    }\\\\r\\\\n  }\\\\r\\\\n}\\\"}]},\"},{\"Position\":13831,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\wwwroot\\\",\\\"Folders\\\":[],\\\"Files\\\":[]}],\\\"Files\\\":[\"},{\"Position\":13892,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\appsettings.Development.json\\\",\\\"Contents\\\":\\\"\"},{\"Position\":13951,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n  \\\\\\\"Logging\\\\\\\": \"},{\"Position\":13971,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    \\\\\\\"IncludeScopes\\\\\\\": false,\\\\r\\\\n    \\\\\\\"LogLevel\\\\\\\": \"},{\"Position\":14027,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n      \\\\\\\"Default\\\\\\\": \\\\\\\"Debug\\\\\\\",\\\\r\\\\n      \\\\\\\"System\\\\\\\": \\\\\\\"Information\\\\\\\",\\\\r\\\\n      \\\\\\\"Microsoft\\\\\\\": \\\\\\\"Information\\\\\\\"\\\\r\\\\n    }\\\\r\\\\n  }\\\\r\\\\n}\\\\r\\\\n\\\"},\"},{\"Position\":14167,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\appsettings.json\\\",\\\"Contents\\\":\\\"\"},{\"Position\":14214,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n  \\\\\\\"ConnectionStrings\\\\\\\": \"},{\"Position\":14244,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    \\\\\\\"Dev\\\\\\\": \\\\\\\"server=GMRMLTV; database=PVC; user=sa; password=GreatMinds110\\\\\\\"\\\\r\\\\n  },\\\\r\\\\n\\\\r\\\\n  \\\\\\\"Logging\\\\\\\": \"},{\"Position\":14358,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    \\\\\\\"IncludeScopes\\\\\\\": false,\\\\r\\\\n    \\\\\\\"Debug\\\\\\\": \"},{\"Position\":14411,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n      \\\\\\\"LogLevel\\\\\\\": \"},{\"Position\":14436,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        \\\\\\\"Default\\\\\\\": \\\\\\\"Warning\\\\\\\"\\\\r\\\\n      }\\\\r\\\\n    },\\\\r\\\\n    \\\\\\\"Console\\\\\\\": \"},{\"Position\":14515,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n      \\\\\\\"LogLevel\\\\\\\": \"},{\"Position\":14540,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        \\\\\\\"Default\\\\\\\": \\\\\\\"Warning\\\\\\\"\\\\r\\\\n      }\\\\r\\\\n    }\\\\r\\\\n  }\\\\r\\\\n}\\\\r\\\\n\\\"},\"},{\"Position\":14616,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Pipe.csproj\\\",\\\"Contents\\\":\\\"<Project Sdk=\\\\\\\"Microsoft.NET.Sdk.Web\\\\\\\">\\\\r\\\\n\\\\r\\\\n  <PropertyGroup>\\\\r\\\\n    <TargetFramework>netcoreapp2.0</TargetFramework>\\\\r\\\\n  </PropertyGroup>\\\\r\\\\n\\\\r\\\\n  <PropertyGroup Condition=\\\\\\\"'$(Configuration)|$(Platform)'=='Debug|AnyCPU'\\\\\\\">\\\\r\\\\n    <DefineConstants>TRACE;DEBUG</DefineConstants>\\\\r\\\\n  </PropertyGroup>\\\\r\\\\n\\\\r\\\\n  <ItemGroup>\\\\r\\\\n    <Folder Include=\\\\\\\"wwwroot\\\\\\\\\\\\\\\" />\\\\r\\\\n  </ItemGroup>\\\\r\\\\n\\\\r\\\\n  <ItemGroup>\\\\r\\\\n    <PackageReference Include=\\\\\\\"Microsoft.AspNetCore.All\\\\\\\" Version=\\\\\\\"2.0.6\\\\\\\" />\\\\r\\\\n  </ItemGroup>\\\\r\\\\n\\\\r\\\\n  <ItemGroup>\\\\r\\\\n    <DotNetCliToolReference Include=\\\\\\\"Microsoft.VisualStudio.Web.CodeGeneration.Tools\\\\\\\" Version=\\\\\\\"2.0.3\\\\\\\" />\\\\r\\\\n  </ItemGroup>\\\\r\\\\n\\\\r\\\\n</Project>\\\\r\\\\n\\\"},\"},{\"Position\":15339,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Program.cs\\\",\\\"Contents\\\":\\\"using System;\\\\r\\\\nusing System.Collections.Generic;\\\\r\\\\nusing System.IO;\\\\r\\\\nusing System.Linq;\\\\r\\\\nusing System.Threading.Tasks;\\\\r\\\\nusing Microsoft.AspNetCore;\\\\r\\\\nusing Microsoft.AspNetCore.Hosting;\\\\r\\\\nusing Microsoft.Extensions.Configuration;\\\\r\\\\nusing Microsoft.Extensions.Logging;\\\\r\\\\n\\\\r\\\\nnamespace Pipe\\\\r\\\\n\"},{\"Position\":15685,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    public class Program\\\\r\\\\n    \"},{\"Position\":15722,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        public static void Main(string[] args)\\\\r\\\\n        \"},{\"Position\":15785,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            BuildWebHost(args).Run();\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        public static IWebHost BuildWebHost(string[] args) =>\\\\r\\\\n            WebHost.CreateDefaultBuilder(args)\\\\r\\\\n                .UseStartup<Startup>()\\\\r\\\\n                .Build();\\\\r\\\\n    }\\\\r\\\\n}\\\\r\\\\n\\\"},\"},{\"Position\":16051,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe\\\\\\\\Startup.cs\\\",\\\"Contents\\\":\\\"using System;\\\\r\\\\nusing System.Collections.Generic;\\\\r\\\\nusing System.Linq;\\\\r\\\\nusing System.Threading.Tasks;\\\\r\\\\nusing Microsoft.AspNetCore.Builder;\\\\r\\\\nusing Microsoft.AspNetCore.Hosting;\\\\r\\\\nusing Microsoft.Extensions.Configuration;\\\\r\\\\nusing Microsoft.Extensions.DependencyInjection;\\\\r\\\\nusing Microsoft.Extensions.Logging;\\\\r\\\\nusing Microsoft.Extensions.Options;\\\\r\\\\n\\\\r\\\\nnamespace Pipe\\\\r\\\\n\"},{\"Position\":16475,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //public interface INotifier\\\\r\\\\n    //\"},{\"Position\":16522,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //    string Address \"},{\"Position\":16552,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n    //    void SendMail();\\\\r\\\\n    //}\\\\r\\\\n\\\\r\\\\n    //public class EmailNotifier : INotifier\\\\r\\\\n    //\"},{\"Position\":16668,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //    public EmailNotifier(string address)\\\\r\\\\n    //    \"},{\"Position\":16733,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //        Address = address;\\\\r\\\\n    //    }\\\\r\\\\n\\\\r\\\\n    //    public string Address \"},{\"Position\":16825,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n\\\\r\\\\n    //    public void SendMail()\\\\r\\\\n    //    \"},{\"Position\":16892,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //        System.Diagnostics.Debug.WriteLine($\\\\\\\"Mail sent to \"},{\"Position\":16962,\"NumberToRemove\":0,\"ContentToAdd\":\"{Address}\\\\\\\");\\\\r\\\\n    //    }\\\\r\\\\n    //}\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n    //public class SMSNotifier : INotifier\\\\r\\\\n    //\"},{\"Position\":17065,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //    public SMSNotifier(string address)\\\\r\\\\n    //    \"},{\"Position\":17128,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //        Address = address;\\\\r\\\\n    //    }\\\\r\\\\n\\\\r\\\\n    //    public string Address \"},{\"Position\":17220,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; set; }\\\\r\\\\n\\\\r\\\\n    //    public void SendMail()\\\\r\\\\n    //    \"},{\"Position\":17287,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n    //        System.Diagnostics.Debug.WriteLine($\\\\\\\"SMS sent to \"},{\"Position\":17356,\"NumberToRemove\":0,\"ContentToAdd\":\"{Address}\\\\\\\");\\\\r\\\\n    //    }\\\\r\\\\n    //}\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n    public class Startup\\\\r\\\\n    \"},{\"Position\":17439,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n        public Startup(IConfiguration configuration)\\\\r\\\\n        \"},{\"Position\":17508,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            Configuration = configuration;\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        public IConfiguration Configuration \"},{\"Position\":17620,\"NumberToRemove\":0,\"ContentToAdd\":\"{ get; }\\\\r\\\\n\\\\r\\\\n        // This method gets called by the runtime. Use this method to add services to the container.\\\\r\\\\n        public void ConfigureServices(IServiceCollection services)\\\\r\\\\n        \"},{\"Position\":17818,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            services.AddMvc();\\\\r\\\\n\\\\r\\\\n//#if USESMS\\\\r\\\\n//            services.AddTransient<INotifier, SMSNotifier>((i) => new SMSNotifier(\\\\\\\"123-555-1212\\\\\\\"));\\\\r\\\\n//#else\\\\r\\\\n//            services.AddTransient<INotifier, EmailNotifier>(((i) => new EmailNotifier(\\\\\\\"peterAdmin@pipe.com\\\\\\\")));\\\\r\\\\n//#endif\\\\r\\\\n        }\\\\r\\\\n\\\\r\\\\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\\\\r\\\\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env)\\\\r\\\\n        \"},{\"Position\":18343,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n            if (env.IsDevelopment())\\\\r\\\\n            \"},{\"Position\":18400,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\\r\\\\n                app.UseDeveloperExceptionPage();\\\\r\\\\n            }\\\\r\\\\n\\\\r\\\\n            app.UseMvc();\\\\r\\\\n        }\\\\r\\\\n    }\\\\r\\\\n}\\\\r\\\\n\\\"}]}],\\\"Files\\\":[\"},{\"Position\":18549,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\.pvcignore\\\",\\\"Contents\\\":\\\"R: bin|obj|vs|packages\\\\r\\\\n\\\"},\"},{\"Position\":18613,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Notes.txt\\\",\\\"Contents\\\":\\\"Next: Figure out why GetRepoHistoryFromRecentCommit is hanging. We think it is because IsDone is never set to 1, because @CommitID is never moving.\\\"},\"},{\"Position\":18797,\"NumberToRemove\":0,\"ContentToAdd\":\"{\\\"Path\\\":\\\"\\\\\\\\Pipe.sln\\\",\\\"Contents\\\":\\\"\\\\r\\\\nMicrosoft Visual Studio Solution File, Format Version 12.00\\\\r\\\\n# Visual Studio 15\\\\r\\\\nVisualStudioVersion = 15.0.27428.2027\\\\r\\\\nMinimumVisualStudioVersion = 10.0.40219.1\\\\r\\\\nProject(\\\\\\\"\"},{\"Position\":19015,\"NumberToRemove\":0,\"ContentToAdd\":\"{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}\\\\\\\") = \\\\\\\"Pipe\\\\\\\", \\\\\\\"Pipe\\\\\\\\Pipe.csproj\\\\\\\", \\\\\\\"\"},{\"Position\":19094,\"NumberToRemove\":0,\"ContentToAdd\":\"{0A415C0F-1EF8-4ACF-B86E-2A580A1A6085}\\\\\\\"\\\\r\\\\nEndProject\\\\r\\\\nGlobal\\\\r\\\\n\\\\tGlobalSection(SolutionConfigurationPlatforms) = preSolution\\\\r\\\\n\\\\t\\\\tDebug|Any CPU = Debug|Any CPU\\\\r\\\\n\\\\t\\\\tRelease|Any CPU = Release|Any CPU\\\\r\\\\n\\\\tEndGlobalSection\\\\r\\\\n\\\\tGlobalSection(ProjectConfigurationPlatforms) = postSolution\\\\r\\\\n\\\\t\\\\t\"},{\"Position\":19396,\"NumberToRemove\":0,\"ContentToAdd\":\"{0A415C0F-1EF8-4ACF-B86E-2A580A1A6085}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\\\\r\\\\n\\\\t\\\\t\"},{\"Position\":19482,\"NumberToRemove\":0,\"ContentToAdd\":\"{0A415C0F-1EF8-4ACF-B86E-2A580A1A6085}.Debug|Any CPU.Build.0 = Debug|Any CPU\\\\r\\\\n\\\\t\\\\t\"},{\"Position\":19566,\"NumberToRemove\":0,\"ContentToAdd\":\"{0A415C0F-1EF8-4ACF-B86E-2A580A1A6085}.Release|Any CPU.ActiveCfg = Release|Any CPU\\\\r\\\\n\\\\t\\\\t\"},{\"Position\":19656,\"NumberToRemove\":0,\"ContentToAdd\":\"{0A415C0F-1EF8-4ACF-B86E-2A580A1A6085}.Release|Any CPU.Build.0 = Release|Any CPU\\\\r\\\\n\\\\tEndGlobalSection\\\\r\\\\n\\\\tGlobalSection(SolutionProperties) = preSolution\\\\r\\\\n\\\\t\\\\tHideSolutionNode = FALSE\\\\r\\\\n\\\\tEndGlobalSection\\\\r\\\\n\\\\tGlobalSection(ExtensibilityGlobals) = postSolution\\\\r\\\\n\\\\t\\\\tSolutionGuid = \"},{\"Position\":19944,\"NumberToRemove\":0,\"ContentToAdd\":\"{A7FB2405-9F73-4374-A8D3-03010D1B7FD6}\\\\r\\\\n\\\\tEndGlobalSection\\\\r\\\\nEndGlobal\\\\r\\\\n\\\"}]}\"}]","Parent":606160723,"Message":"Loaded Pipe into PVCPipe repository.","Author":"Peter","Committer":"Peter"}